(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1058:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(172),i=a.n(r),l=a(173),s=a(28),c=a(29),o=a(31),u=a(30),m=a(33),d=a(32),h=a(0),p=a.n(h),b=a(14),v=(a(71),a(45)),f=a(1045),y=a(1050),E=a(1049),g=a(1068),C=a(1044),I=(a(1035),a(17)),S=(a(178),a(246),a(236)),N=a.n(S),O=a(20),k=a(24),z=a(72),j=a(201),P=a(243),q=p.a.forwardRef(function(e,t){return p.a.createElement(C.a,Object.assign({direction:"up",ref:t},e))}),_=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttarakhand","Uttar Pradesh","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli","Daman and Diu","Delhi","Lakshadweep","Puducherry"],w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={render:!1,loading:!1,open:!1,user:{},userInfo:{country:"India",state:"Andhra Pradesh"},totalPrice:0,isConfirmOrderModelOpen:!1,isCodEligible:!0,codItems:[],onlineItems:[],deliveryCharges:0},a.cartItems=[],a.cod=!1,a.togelConfirmOrderModal=a.togelConfirmOrderModal.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.cartItems&&(this.cartItems=this.props.cartItems,this.checkCashOndelivery(),this.calculateTotal(),this.setState({render:!this.state.render})),this.props.publicPageUser&&this.setState({user:this.props.publicPageUser})}},{key:"componentWillReceiveProps",value:function(e){e.publicPageUser&&this.setState({user:e.publicPageUser}),e.cartItems&&(this.cartItems=e.cartItems,this.calculateTotal(),this.setState({render:!this.state.render}),this.checkCashOndelivery())}},{key:"checkCashOndelivery",value:function(e){var t=this;this.cartItems.forEach(function(e){e.item.cod_available||t.setState({isCodEligible:!1})})}},{key:"togelConfirmOrderModal",value:function(e){if(this.paymentMode=e,"online"===e){var t=this.cartItems.filter(function(e){return!1===e.item.online_available&&e.item.cod_available}),a=this.cartItems.filter(function(e){return e.item.online_available});this.setState({codItems:t,onlineItems:a})}else if("cod"===e){var n=this.cartItems.filter(function(e){return e.item.online_available&&!1===e.item.cod_available}),r=this.cartItems.filter(function(e){return e.item.cod_available});this.onlineItems=n,this.setState({onlineItems:n,codItems:r})}this.setState({isConfirmOrderModelOpen:!this.state.isConfirmOrderModelOpen})}},{key:"calculateTotal",value:function(){var e=0,t=0;this.cartItems.map(function(a){e+=a.quantity*a.item.disc_price,t=Math.max(t,a.item.shipping_charges)}),e+=t,this.setState({totalPrice:e,deliveryCharges:t})}},{key:"purchaseCart",value:function(e){var t=this;e&&(e.preventDefault(),console.log(e));var a=this.state,n=a.onlineItems,r=a.codItems,s=a.userInfo;this.setState({loading:!0});var c={user_details:s,online_items:n.map(function(e){return{type:"product",id:e.item.id,meta_data:{size:e.selectedSize,quantity:e.quantity}}}),cod_items:r.map(function(e){return{type:"product",id:e.item.id,meta_data:{size:e.selectedSize,quantity:e.quantity}}})};console.log(c),k.a.ProductsPage.makeOrder(c).then(function(){var e=Object(l.a)(i.a.mark(function e(a){var n,r,l,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.data.form){for(l in n=a.data.form,(r=document.createElement("form")).action=n.url,r.method="POST",n.fields)(s=document.createElement("input")).setAttribute("hidden",!0),s.setAttribute("name",l),s.setAttribute("value",n.fields[l]),r.appendChild(s);document.body.appendChild(r),r.submit()}else a.data.message,O.c.dispatch(Object(v.a)("/user-payment/success"));t.setState({loading:!1});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e,e.response),I.c.error("An error Occurred!!!"),t.setState({loading:!1})})}},{key:"confirmOrder",value:function(){this.cod=!0;var e=document.createElement("button");e.setAttribute("form","payment-info-form"),e.setAttribute("type","submit"),e.setAttribute("hidden",!0),document.body.appendChild(e),e.click()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.open,t.user),r=t.userInfo,i=t.totalPrice,l=t.isConfirmOrderModelOpen,s=t.deliveryCharges,c=t.onlineItems,o=t.codItems,u=0,m="cod"===this.paymentMode?s:0,d=0;return p.a.createElement("div",{className:""},p.a.createElement("div",{className:"cart-details-top-bar"},p.a.createElement("h2",null,"Payment Info"),p.a.createElement("button",{type:"button",onClick:function(){return O.c.dispatch(Object(v.a)("/".concat(a.username)))}},"Go to Home")),p.a.createElement("div",{className:"",style:{justifyContent:"space-evenly"}},p.a.createElement("div",{className:"payment-form-header"},p.a.createElement("h2",null,"Enter Your Details"),p.a.createElement("button",{className:"relative cart-btn"},p.a.createElement(j.a,null),p.a.createElement(N.a,null),p.a.createElement("p",null," Your cart "))),p.a.createElement("form",{id:"payment-info-form",onSubmit:this.purchaseCart.bind(this)},p.a.createElement("h3",null,"Contact Information"),p.a.createElement(P.a,{label:"Email",value:r.email,type:"email",className:"w-100",onTextChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{email:t})})},required:!0}),p.a.createElement(P.a,{label:"Phone number",value:r.number,type:"number",className:"w-100",onTextChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{number:t})})},required:!0}),p.a.createElement("h3",null,"Delivery Address"),p.a.createElement(P.a,{label:"Customer Name",value:r.name,type:"text",className:"w-100",onTextChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{name:t})})},required:!0}),p.a.createElement(P.a,{label:"Address",value:r.address,type:"text",className:"w-100",onTextChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{address:t})})},required:!0}),p.a.createElement(P.a,{label:"Apartment,flat no, etc..",value:r.apartment,type:"text",className:"w-100",onTextChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{apartment:t})})},required:!0}),p.a.createElement(P.a,{label:"City",value:r.city,type:"text",className:"w-100",onTextChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{city:t})})},required:!0}),p.a.createElement("div",{className:"payment-form-flex-input"},p.a.createElement("select",null,p.a.createElement("option",{value:"India"}," India")),p.a.createElement("select",{onChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{state:t.target.value})})}},_.map(function(e,t){return p.a.createElement("option",{value:e,key:t},e)})),p.a.createElement(P.a,{label:"PIN code",value:r.pincode,type:"number",className:"",style:{flexGrow:1},onTextChange:function(t){return e.setState({userInfo:Object(n.a)({},r,{pincode:t})})},required:!0})),p.a.createElement("div",{className:"flex"},p.a.createElement("button",{type:"button",className:"color-btn w-100 pa3 mt2 mr2",onClick:function(){return e.togelConfirmOrderModal("cod")},style:{position:"relative"}},"Cash on delivery"),p.a.createElement("button",{type:"button",className:"color-btn w-100 pa3 mt2 ml2",onClick:function(){return e.togelConfirmOrderModal("online")}},"Pay  Online")))),this.state.loading?p.a.createElement(z.a,null):null,p.a.createElement(f.a,{open:l,TransitionComponent:q,keepMounted:!0,onClose:this.togelConfirmOrderModal.bind(this)},p.a.createElement(g.a,null,"Confirm Order"),p.a.createElement(E.a,null,"online"===this.paymentMode?p.a.createElement("div",null,0!==o.length?p.a.createElement("div",null,p.a.createElement("div",{className:"ba "},o.map(function(e,t){return d+=e.quantity,u+=e.quantity*e.item.disc_price,m=i-u,p.a.createElement("div",{className:"flex items-center justify-around w-100",key:t},e.selectedSize?p.a.createElement("b",null,"".concat(e.item.name,"(").concat(e.selectedSize,")")):p.a.createElement("b",null,"".concat(e.item.name)),p.a.createElement("b",null,"".concat(e.quantity)),p.a.createElement("b",null,"".concat(e.quantity*e.item.disc_price)))}),p.a.createElement("div",{className:"flex items-center justify-around w-100 mt2 bt "},p.a.createElement("b",null,"Total"),p.a.createElement("b",null,"".concat(d)),p.a.createElement("b",null,"".concat(u)))),p.a.createElement("p",{className:" tc"},"This items are not eligible for online payment You have to pay  ",p.a.createElement("b",{className:"red"},"Rs. ".concat(u," on delivery.")))):p.a.createElement("div",null,p.a.createElement("p",{className:"tc"}," On confirming, you will be redirected to payment Gateway. "))):p.a.createElement("div",null,0!==c.length?p.a.createElement("div",null,p.a.createElement("div",{className:"ba "},c.map(function(e,t){return d+=e.quantity,m+=e.quantity*e.item.disc_price,u=i-m,p.a.createElement("div",{className:"flex items-center justify-around w-100",key:t},e.selectedSize?p.a.createElement("b",null,"".concat(e.item.name,"(").concat(e.selectedSize,")")):p.a.createElement("b",null,"".concat(e.item.name)),p.a.createElement("b",null,"".concat(e.quantity)),p.a.createElement("b",null,"".concat(e.quantity*e.item.disc_price)))}),p.a.createElement("div",{className:"flex items-center justify-around w-100 mt2 bt "},p.a.createElement("b",null,"Total"),p.a.createElement("b",null,"".concat(d)),p.a.createElement("b",null,"".concat(m)))),p.a.createElement("p",{className:" tc"},"This items are not eligible for Cash on Delivery. You have to pay ",p.a.createElement("b",{className:"red"},"Rs. ".concat(m," online.")))):p.a.createElement("div",null,p.a.createElement("p",{className:"tc"},"On confirming, you have to pay Rs. ".concat(i," on delivery."))))),p.a.createElement(y.a,null,p.a.createElement("div",null,p.a.createElement("button",{className:"b color-btn",onClick:function(){return e.confirmOrder(!0)}},0!==c.length?p.a.createElement("p",{className:"mt0 mb0"},"Pay Rs. ".concat(0===m?i:m," online")):p.a.createElement("p",{className:"mt0 mb0"},"Confirm Order"))),p.a.createElement("button",{className:"b btn",type:"button",onClick:function(){return e.togelConfirmOrderModal(e.paymentMode)}},"Cancel"))))}}]),t}(h.Component);t.default=Object(b.c)(function(e){return{user:e.AuthReducer.user,cartItems:e.HomePageReducers.cartItems,publicPageUser:e.HomePageReducers.publicPageUser}},function(e){return{}})(w)},155:function(e,t,a){},163:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(161),r=a(0),i=a.n(r),l=a(642);function s(e){var t=i.a.useState(!1),a=Object(n.a)(t,2),r=a[0],s=a[1];i.a.useEffect(function(){s(e.visible)},[e.visible]);return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(l.a,{in:r,className:e.className},e.children)))}},175:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(4),r=a(28),i=a(29),l=a(31),s=a(30),c=a(32),o=a(0),u=a.n(o),m={position:"absolute",width:"100%",top:0,left:0,height:"100%",filter:"blur(10px)",transition:"all   1000ms  ",transform:"scale(1)",clipPath:"inset(0)"},d=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={highResImageLoaded:!1},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a=this,r=this.props,i=r.overlaySrc,l=r.src,s=(r.style,this.state.highResImageLoaded),c=(e=this.props,t="overlaySrc",Object.keys(e).reduce(function(a,n){return n!==t&&(a[n]=e[n]),a},{}));return u.a.createElement("span",null,u.a.createElement("img",Object.assign({},c,{onLoad:function(){a.setState({highResImageLoaded:!0})},ref:function(e){a.highResImage=e},alt:"",src:l})),u.a.createElement("img",Object.assign({},c,{alt:"",style:s?Object(n.a)({},m,{opacity:"0"}):m,src:"data:image/png;base64, ".concat(i)})))}}]),t}(o.Component)},178:function(e,t,a){},201:function(e,t,a){"use strict";var n=a(4),r=a(28),i=a(29),l=a(31),s=a(30),c=a(32),o=a(0),u=a.n(o),m=a(14),d=(a(71),a(1044)),h=a(1045),p=a(1050),b=a(332),v=a.n(b),f=a(298),y=a.n(f),E=a(45),g=(a(178),a(246),a(236)),C=a.n(g),I=a(20),S=a(295),N=a(3),O=u.a.forwardRef(function(e,t){return u.a.createElement(d.a,Object.assign({direction:"up",ref:t},e))}),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={render:!1,open:!1,user:{}},a.cartItems=[],a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.cartItems&&(this.cartItems=this.props.cartItems,this.setState({render:!this.state.render})),this.props.publicPageUser&&this.setState({user:this.props.publicPageUser})}},{key:"componentWillReceiveProps",value:function(e){e.data&&e.data!==this.state.product&&this.setState({product:e.data}),e.publicPageUser&&this.setState({user:e.publicPageUser}),e.cartItems&&(this.cartItems=e.cartItems,this.setState({render:!this.state.render}))}},{key:"modifyQuantity",value:function(e,t){if(e.quantity+t>0){var a=Object(n.a)({},e,{quantity:t});this.props.addToCart(a)}}},{key:"togelDialog",value:function(){this.setState({open:!this.state.open})}},{key:"renderCartContents",value:function(){var e=this,t=0,a=0,n=0;return u.a.createElement("div",null,u.a.createElement("div",{className:"cart-details-cart-item total"},u.a.createElement("h3",null,"Product"),u.a.createElement("h3",{className:"quantity-div"},"Quantity"),u.a.createElement("h3",null,"Price")),this.cartItems.map(function(r,i){a+=r.quantity*r.item.disc_price,t+=r.quantity;var l="".concat(r.item.name);return r.selectedSize&&(l="".concat(l," ( ").concat(r.selectedSize," )")),n=Math.max(n,r.item.shipping_charges),u.a.createElement("div",{className:"cart-details-cart-item",key:r.item.id},u.a.createElement("h3",null,l),u.a.createElement("div",{className:"flex quantity-div"},u.a.createElement("input",{type:"number ",value:r.quantity,className:"tc",disabled:!0}),u.a.createElement("div",{className:"flex flex-column w-40"},u.a.createElement("button",{type:"button",onClick:function(){return e.modifyQuantity(r,1)}}," ",u.a.createElement(v.a,null)," "),u.a.createElement("button",{type:"button",onClick:function(){return e.modifyQuantity(r,-1)}}," ",u.a.createElement(y.a,null)," "))),u.a.createElement("h3",null,r.item.disc_price))}),u.a.createElement("div",{className:"cart-details-cart-item total"},u.a.createElement("h4",null,"Shipping Charges: "),u.a.createElement("h4",null," "),u.a.createElement("h4",null,"".concat(n," Rs.")," ")),u.a.createElement("div",{className:"cart-details-cart-item total"},u.a.createElement("h3",null,"Total"),u.a.createElement("h3",{className:"quantity-div"},t),u.a.createElement("h3",null,a+n)))}},{key:"render",value:function(){var e=this.state,t=e.open;e.user;return u.a.createElement("div",{className:""},u.a.createElement("button",{className:"hidden-btn",onClick:this.togelDialog.bind(this)},"open cart item"),u.a.createElement(h.a,{fullScreen:!0,open:t,onClose:this.togelDialog.bind(this),TransitionComponent:O},u.a.createElement("div",{className:"cart-details-top-bar"},u.a.createElement("h2",null,"My Cart"),u.a.createElement("button",{type:"button",onClick:this.togelDialog.bind(this)},"Close")),u.a.createElement("div",{className:"cart-details-cart-content",style:{justifyContent:"space-evenly"}},u.a.createElement("div",{className:"cart-details-content-image"},u.a.createElement(C.a,null),u.a.createElement("h2",null,"Cart Content")),0===this.cartItems.length?u.a.createElement("p",{className:"tc"},"No items in cart Purchase some Items"):u.a.createElement("div",null,u.a.createElement("div",{style:{justifyContent:"space-evenly",display:"flex",flexWrap:"wrap "}},this.cartItems.map(function(e,t){return u.a.createElement(S.a,{data:e.item,key:t,cartItem:!0})})),u.a.createElement("div",{className:"cart-details-cart-table"},this.renderCartContents()),u.a.createElement(p.a,null,u.a.createElement("button",{className:"color-btn cart-purchase-btn",onClick:function(){return I.c.dispatch(Object(E.a)("/user-payment/"))},type:"button"}," Checkout"))))))}}]),t}(o.Component);t.a=Object(m.c)(function(e){return{user:e.AuthReducer.user,cartItems:e.HomePageReducers.cartItems,publicPageUser:e.HomePageReducers.publicPageUser}},function(e){return{addToCart:function(t){return e({type:N.a,payload:t})},removeFromCart:function(t){return e({type:N.G,payload:t})}}})(k)},243:function(e,t,a){"use strict";var n=a(28),r=a(29),i=a(31),l=a(30),s=a(32),c=a(0),o=a.n(c),u=a(14),m=(a(71),a(155),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={label:"",value:"",disabled:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.setState({label:this.props.label,value:this.props.value,disabled:this.props.disabled,pattern:this.props.pattern,type:this.props.type,required:this.props.required,className:this.props.className,minLength:this.props.minLength,maxLength:this.props.maxLength})}},{key:"componentWillReceiveProps",value:function(e){this.setState({label:e.label,value:e.value,disabled:e.disabled})}},{key:"render",value:function(){var e=this,t=this.state,a=t.label,n=t.value,r=t.disabled,i=t.pattern,l=t.type,s=t.required,c=t.className;return o.a.createElement("div",{className:"input-label-div ".concat(c),style:this.props.style},o.a.createElement("input",{type:l||"text",name:a,className:"inp ",disabled:r,value:n,onChange:function(t){return e.props.onTextChange(t.target.value)},required:s,pattern:i||null,placeholder:" "}),o.a.createElement("label",{className:"inp-label",name:a},a))}}]),t}(c.Component));t.a=Object(u.c)(function(e){return{}},function(e){return{}})(m)},295:function(e,t,a){"use strict";var n=a(28),r=a(29),i=a(31),l=a(30),s=a(32),c=a(0),o=a.n(c),u=a(14),m=(a(71),a(17)),d=(a(178),a(246),a(3)),h=a(33),p=a(1045),b=a(1049),v=a(1050),f=a(236),y=a.n(f),E=a(609),g=a(1044),C=a(201),I=a(175),S=a(306),N=a(331),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={doubleClickMode:"",className:"",style:{}},a.doubleClick="zoomIn",a.onZoomChange=a.onZoomChange.bind(Object(h.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.src,a=e.className,n=e.style;this.setState({src:t,className:a,style:n})}},{key:"onZoomChange",value:function(e){e.scale>=6&&this.reset()}},{key:"reset",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.className,n=t.style,r=this.props.children;return o.a.createElement(N.b,{className:a,enablePadding:!0,style:n,doubleClick:{mode:this.doubleClick},onZoomChange:this.onZoomChange},function(t){t.zoomIn,t.zoomOut;var a=t.resetTransform;Object(S.a)(t,["zoomIn","zoomOut","resetTransform"]);return e.reset=a,o.a.createElement(N.a,null,r)})}}]),t}(c.Component),k=o.a.forwardRef(function(e,t){return o.a.createElement(g.a,Object.assign({direction:"up",ref:t},e))}),z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={isCreateProductDialog:!1,alreadyInCart:!1,product:{images:[]},quantity:1,sizes:[],isSizesAvailable:!1,selectedSize:""},a.cartItems=[],a.togelIsCreateProductDialog=a.togelIsCreateProductDialog.bind(Object(h.a)(a)),a.togelIsZoomImageDialog=a.togelIsZoomImageDialog.bind(Object(h.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;if(this.props.data){this.setState({product:this.props.data});var t=this.props.data;t.meta_data&&t.meta_data.sizes_available&&this.setState({sizes:t.meta_data.sizes_available,isSizesAvailable:t.meta_data.sizes_available.length>0})}if(this.props.cartItems){this.cartItems=this.props.cartItems;var a=this.props.cartItems.filter(function(t){return t.item.id===e.props.data.id});a.length>0?this.setState({alreadyInCart:!0,quantity:a[0].quantity,selectedSize:a[0].selectSize}):this.setState({alreadyInCart:!1,quantity:1,selectedSize:""})}}},{key:"componentWillReceiveProps",value:function(e){if(e.data){this.setState({product:e.data});var t=e;t.meta_data&&t.meta_data.sizes_available&&this.setState({sizes:t.meta_data.sizes_available,isSizesAvailable:t.meta_data.sizes_available.length>0})}if(e.cartItems){this.cartItems=e.cartItems;var a=e.cartItems.filter(function(t){return t.item.id===e.data.id});a.length>0?this.setState({alreadyInCart:!0,quantity:a[0].quantity,selectedSize:a[0].selectSize}):this.setState({alreadyInCart:!1,quantity:1,selectedSize:""})}}},{key:"togelIsCreateProductDialog",value:function(){this.setState({isCreateProductDialog:!this.state.isCreateProductDialog})}},{key:"togelIsZoomImageDialog",value:function(){this.setState({isZoomImageDialogOpen:!this.state.isZoomImageDialogOpen})}},{key:"addToCart",value:function(){var e=this.state,t=e.isSizesAvailable,a=e.selectedSize,n=e.product,r=e.quantity;if(t&&""===a)this.setState({showSizes:!0});else{var i={item:n,quantity:r,selectedSize:a};this.props.addToCart(i),this.setState({showSizes:!1})}}},{key:"removeProduct",value:function(){this.props.removeFromCart(this.state.product)}},{key:"modifyQuantity",value:function(e){this.state.quantity+e>0&&this.setState({quantity:this.state.quantity+e})}},{key:"selectSize",value:function(e){this.setState({selectedSize:e.target.value})}},{key:"renderZoomImageDialog",value:function(){var e=this.state,t=e.isZoomImageDialogOpen,a=e.product;return o.a.createElement(p.a,{open:t,TransitionComponent:k,keepMounted:!0,fullWidth:!0,name:"zoomImageDialog",onClose:this.togelIsZoomImageDialog.bind(this)},o.a.createElement("div",{className:"tc b f5"},o.a.createElement("p",null,"Double click or pinch to zoom.")),o.a.createElement(E.a,{background:"#000",animation:"fade",showThumbs:!0},a.images.map(function(e,t){return o.a.createElement(O,{key:t},o.a.createElement("img",{src:e,alt:"",overlaySrc:a.preview_images[0],key:t}))})),o.a.createElement(v.a,null,o.a.createElement("button",{type:"button",className:"color-btn w-50",onClick:this.togelIsZoomImageDialog}," close")))}},{key:"render",value:function(){var e=this.state.product,t=e.name,a=e.images,n=e.price,r=e.disc_price,i=e.description,l=(e.id,e.estimated_delivery),s=e.preview_images,c=e.cod_available,u=this.state,m=u.alreadyInCart,d=u.isCreateProductDialog,h=(u.quantity,u.showSizes);return o.a.createElement("div",null,o.a.createElement("button",{className:" center  flex hidden-btn ",type:"button",onClick:this.togelIsCreateProductDialog.bind(this)},"see Product details"),o.a.createElement(p.a,{open:d,TransitionComponent:k,keepMounted:!0,fullScreen:!0,onClose:this.togelIsCreateProductDialog.bind(this)},o.a.createElement("div",{className:"cart-details-top-bar"},o.a.createElement("h2",null,t),o.a.createElement("div",{className:"flex items-center justify-between"},o.a.createElement("button",{className:"home-page-cart-div items-center ju flex relative ml1 mr1",type:"button"},o.a.createElement(y.a,{style:{color:"white"}}),o.a.createElement(C.a,null),o.a.createElement("span",{style:{color:"white",fontWeight:"bold"}},"Cart(".concat(this.cartItems.length,")"))),o.a.createElement("button",{type:"button",onClick:this.togelIsCreateProductDialog.bind(this)},"Close"))),o.a.createElement(b.a,null,o.a.createElement("div",{className:"product-details"},o.a.createElement("div",{className:"product-details-top-div"},o.a.createElement(E.a,{className:"product-details-carousel",background:"#000",onClickItem:this.togelIsZoomImageDialog.bind(this),showThumbs:!1},a.map(function(e,t){return o.a.createElement(I.a,{src:e,alt:"",overlaySrc:s[0],key:t})})),o.a.createElement("div",{className:"cart-details-top-right-div"},o.a.createElement("h1",null,t),o.a.createElement("div",{className:"product-pricing"},r===n?o.a.createElement("b",null,"Rs.",n):o.a.createElement("div",null,o.a.createElement("b",null,"Rs.",r),o.a.createElement("strike",null," Rs. ".concat(n)),o.a.createElement("span",{className:"product-details-product-sale"},Math.floor((n-r)/n*100),"%off"))),o.a.createElement("h4",null,"Estimated Delivery:".concat(l," Days")),c?o.a.createElement("p",{className:"err-txt b"},"Cash on delivery available"):null,o.a.createElement("div",{className:"product-add-to-cart-div"},m?o.a.createElement("button",{type:"button",className:"product-add-to-cart relative"},"View Cart",o.a.createElement(C.a,null)):o.a.createElement("div",null,o.a.createElement("div",{className:"flex flex-column mt1 mb1"},this.state.sizes.length>0&&o.a.createElement("select",{onChange:this.selectSize.bind(this)},o.a.createElement("option",{value:null},"Select Size"),this.state.sizes.map(function(e,t){return o.a.createElement("option",{value:e,key:t},e)})),h?o.a.createElement("p",{className:"err-txt"}," *Select a size "):null),o.a.createElement("button",{type:"button",className:"product-add-to-cart",onClick:this.addToCart.bind(this)},"Add To Cart")),m?o.a.createElement("div",{className:"f6 go-to-cart relative"},"Item already in cart."):null))),o.a.createElement("div",{style:{overflowWrap:"anywhere"}},o.a.createElement("h4",null," Description : "),o.a.createElement("p",null,i)))),this.renderZoomImageDialog()))}}]),t}(c.Component),j=Object(u.c)(function(e){return{user:e.AuthReducer.user,cartItems:e.HomePageReducers.cartItems}},function(e){return{addToCart:function(t){return e({type:d.a,payload:t})},removeFromCart:function(t){return e({type:d.G,payload:t})}}})(z),P=a(163),q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={render:!1,loading:!1,user:{},product:{},quantity:1,images:[],alreadyInCart:!1,cartItem:!1,isSizesAvailable:!1,selectedSize:"",sizes:[]},a.cartItems=[],a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;if(this.props.data){this.setState({product:this.props.data});var t=this.props.data;t.meta_data&&t.meta_data.sizes_available&&this.setState({sizes:t.meta_data.sizes_available,isSizesAvailable:t.meta_data.sizes_available.length>0})}if(this.props.cartItem&&this.setState({cartItem:this.props.cartItem}),this.props.cartItems){this.cartItems=this.props.cartItems;var a=this.props.cartItems.filter(function(t){return t.item.id===e.props.data.id});a.length>0?this.setState({alreadyInCart:!0,cartSelectedSize:a[0].selectedSize,cartSelectedQuantity:a[0].quantity}):this.setState({alreadyInCart:!1,quantity:1,selectedSize:""})}}},{key:"componentWillReceiveProps",value:function(e){if(e.data&&e.data!==this.state.product){this.setState({product:e.data});var t=e.data;t.meta_data&&t.meta_data.sizes_available&&this.setState({sizes:t.meta_data.sizes_available,isSizesAvailable:t.meta_data.sizes_available.length>0})}if(e.cartItems){this.cartItems=e.cartItems;var a=e.cartItems.filter(function(t){return t.item.id===e.data.id});a.length>0?this.setState({alreadyInCart:!0,cartSelectedSize:a[0].selectedSize,cartSelectedQuantity:a[0].quantity}):this.setState({alreadyInCart:!1,quantity:1,selectedSize:""})}}},{key:"modifyQuantity",value:function(e){this.state.quantity+e>0&&this.setState({quantity:this.state.quantity+e})}},{key:"addToCart",value:function(){if(console.log(this.state),this.state.isSizesAvailable&&""===this.state.selectedSize)this.setState({showSizes:!0});else{var e={item:this.state.product,quantity:this.state.quantity,selectedSize:this.state.selectedSize};console.log(e),document.getElementById("product-size-select").children[0].selected=!0,this.props.addToCart(e),this.setState({showSizes:!1,selectedSize:""}),m.c.info("Item added to cart !!!")}}},{key:"removeProduct",value:function(){var e={item:this.state.product,quantity:this.state.cartSelectedQuantity,selectedSize:this.state.cartSelectedSize};this.props.removeFromCart(e)}},{key:"selectSize",value:function(e){this.setState({selectedSize:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.product,a=t.name,n=t.disc_price,r=t.price,i=t.images,l=t.preview_images,s=t.cod_available,c=this.state,u=c.quantity,m=c.alreadyInCart,d=c.cartItem,h=c.showSizes;return o.a.createElement("div",{className:"public-product relative",style:this.props.style},o.a.createElement("div",{className:"product-header-img relative",style:{overflow:"hidden"}},i.length>0?o.a.createElement(I.a,{src:i[0],alt:"",overlaySrc:l[0]}):null,o.a.createElement(j,{data:this.state.product,alreadyInCart:m,parent:this.props.parent})),o.a.createElement("div",{className:"product-pricing"},o.a.createElement("h3",{className:"ma0 relative"},o.a.createElement(j,{data:this.state.product,alreadyInCart:m,parent:this.props.parent}),a),n===r?o.a.createElement("b",null,"Rs.",r):o.a.createElement("div",null,o.a.createElement("div",{className:"home-page-product-sale"},"".concat(Math.floor((r-n)/r*100),"%off")),o.a.createElement("b",null,"Rs.",n),o.a.createElement("strike",null," Rs. ".concat(r))),d?o.a.createElement("div",{className:"product-bottom-div"},o.a.createElement("div",{className:"f6 go-to-cart relative blue",onClick:this.removeProduct.bind(this)},"Remove"),s?o.a.createElement("p",{className:"err-txt b"},"Cash on delivery is available"):o.a.createElement("p",{className:"err-txt b"},"Cash on delivery not available")):o.a.createElement("div",{className:"product-bottom-div"},o.a.createElement("div",{className:"flex"},o.a.createElement("button",{type:"button",className:"w-20",onClick:function(){return e.modifyQuantity(-1)}}," - "),o.a.createElement("input",{type:"number",value:u,style:{fontSize:"1.2rem"},className:"w-60 b",disabled:!0}),o.a.createElement("button",{type:"button",className:"w-20",onClick:function(){return e.modifyQuantity(1)}},"  + ")),o.a.createElement(P.a,{visible:h},o.a.createElement("div",{className:"flex flex-column mt1 mb1"},o.a.createElement("select",{onChange:this.selectSize.bind(this),defaultValue:this.state.selectedSize,id:"product-size-select"},o.a.createElement("option",{selected:!0,value:""},"Select Size"),this.state.sizes.map(function(e,t){return o.a.createElement("option",{value:e,key:t},e)})))),o.a.createElement("button",{className:"product-add-to-cart",onClick:this.addToCart.bind(this)}," Add to cart "),m?o.a.createElement("div",{className:"f6 go-to-cart relative"},"Item already in cart.",o.a.createElement("a",null,"Go To Cart"),o.a.createElement(C.a,null)):null)))}}]),t}(c.Component);t.a=Object(u.c)(function(e){return{user:e.AuthReducer.user,cartItems:e.HomePageReducers.cartItems}},function(e){return{addToCart:function(t){return e({type:d.a,payload:t})},removeFromCart:function(t){return e({type:d.G,payload:t})}}})(q)}}]);
//# sourceMappingURL=19.4480e10e.chunk.js.map